<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title>学生录入系统练习</title>
		<script src="js/vue.js" type="text/javascript" charset="utf-8"></script>
		<style>
			#app{
				margin: 50px auto;
				width: 600px;
			}
			fieldset{
				border: 1px solid orangered;
				margin-bottom: 100px;
			}
			fieldset input{
				width:200px;
				height:30px;
				margin:10px 0;
			}
			table{
				width: 600px;
				border: 2px solid #FF4500;
				text-align: center;
			}	
			thead{
				background-color: orangered;
			}
			
			}
		</style>
		
		
		
		
		
	</head>
	<body>
		
		<div id="app">
			<!--First Part-->
			<fieldset>
				<legend>学生录入系统</legend>
				<div>
					<span>Name</span>
					<input type="text" placeholder="请输入姓名" v-model="newStudent.name"/>
				</div>
				<div>
					<span>Age</span>
					<input type="text" placeholder="请输入年龄" v-model="newStudent.age"/>
				</div>
				<div>
					<span>性别</span>
					<select v-model="newStudent.sex">
						<option value ="男">男</option>
						<option value ="女">女</option>
					</select>
				</div>
				<div>
					<span>电话</span>
					<input type="text" placeholder="请输入电话" v-model="newStudent.phone"/>
				</div>
				<button type="button" @click="creatNewStudent()">创建新用户</button>
			</fieldset>
			
			
			
			
			<table>
				<thead>
					<tr>
						<td>姓名</td>
						<td>年龄</td>
						<td>性别</td>
						<td>电话</td>
						<td>删除</td>
					</tr>
				</thead>
				
				<tbody>
					<tr v-for="(p,index) in persons">
						<td>{{p.name}}</td>
						<td>{{p.age}}</td>
						<td>{{p.sex}}</td>
						<td>{{p.phone}}</td>
						<td>
							<button type="button" @click="deleteStudent(index)">删除</button>
						</td>
					</tr>
				</tbody>
			</table>
			
		</div>
		
		<script>
			new Vue({
				el:"#app",
				data:{
					persons:[
						{name:'张三',age:20,sex:'Boy',phone:'13899990909'},
						{name:'李四',age:20,sex:'Boy',phone:'13899990909'},
						{name:'王五',age:20,sex:'Boy',phone:'13899990909'},
						{name:'张是',age:20,sex:'Boy',phone:'13899990909'}
					],
					newStudent: {name:'',age:0,sex:'男',phone:''}
				},
				methods:{
					creatNewStudent(){
						//容错处理
						if(this.newStudent.name===''){
							alert("姓名不能为空");
							return;
						}
						if(this.newStudent.age<=0){
							alert("年龄不小于0");
							return;
						}
						if(this.newStudent.phone===''){
							alert("手机号不能为空");
							return;
						}
						
						//向数组添加新纪录
						this.persons.unshift(this.newStudent);
						//清空
						this.newStudent={name:'',age:0,sex:'',phone:''};
					},
					deleteStudent(index){
						this.persons.splice(index,1);
					}
				}
				
			})
			
			
		</script>
		
		
		
		
		
		
		
		
	</body>
</html>
